# 第二章 范例项目：在线考试系统

为了能够全面展示专业软件开发中用到的思想、范式、类库、框架以及工具，我在本书中完整实现一个在线考试系统。该系统将实现为SaaS云计算的形式，并允许通过浏览器和手机使用。

之所以选择在线考试作为范例，是由于以下的原因：

* 相信大家都是过五关斩六将在来到这里，每个人都经受过一场又一场暴风雨般的考试的洗礼，因此对考试这个业务领域已经熟悉务必，不必费心做更深入的钻研。
* 试题有多种形式，包括单选题、多选题、填空题、选择题、论述题等等，每种试题的结构形式不一样，评分方式也不一样。有客观题，有主观题；不同的用户单位可能选择不同的评分标准，例如可能单位A的多选题是全对得分，不全对得0分；而单位B是多选题按正确选项的比例得部分或全部分数等。这正是面向对象的继承、封装、多态以及各种设计模式可以发挥作用的地方。这个系统可以充分说明面向对象OO和领域驱动设计DDD相对于面向数据库的增删改查（反）范式的优势。

编写本书的目的之一，是试图纠正国内业界几个根深蒂固的落后甚至错误的开发范式，主要包括：

* **瀑布式开发**

需求阶段、设计阶段、实现阶段、测试阶段……只要你思想里面还有这些概念，你就属于传统的瀑布式开发范式的一员。1996年Kent Beck就开创了极限编程（XP）敏捷开发范式，2001年敏捷宣言的发表至今也有15个年头了，而国内真正实施敏捷的公司、团队和个人却仍然少的可怜。这是导致软件质量低劣和程序员缺乏幸福感的最重要原因之一。

* **以数据模型为中心**

绝大多数的公司和开发人员仍然是采用“以数据库表为中心的增删改查”的面向过程的思维开发应用软件。从1960年在simula 67语言中引入面向对象（OO）的思想开始，到上世纪八、九十年代C++和Java的出现，OO语言达到极盛，今天绝大多数的编程语言都是OO的。但是我们今天仍然是用着面向对象的语言写面向过程的代码。就如同拿着先进的链锯去*砍*（不是*锯*）树——树没倒，链锯断了，还顺带截断了几节手指头。

* **没有自动化测试/测试后行**

我认为有没有采用测试先行开发范式，是专业和非专业软件开发的分水岭。当我们在编写产品代码之前先编写测试代码的时候，这些测试本质上不再是质量保证工具，而是一种设计工具了。我们可以在单元测试和验收测试的层面都采用测试先行的开发范式，用测试表达需求、驱动设计。但是国内的软件开发基本上没有编写自动化测试代码，遑论测试先行。

* **手工构建和部署软件**

“卖花姑娘插竹叶”是我们行业的普遍现状。我们为客户开发自动化的解决方案，可我们构建软件解决方案的过程却充满了手工的环节，每次构建、打包、部署和测试的过程都非常繁琐、复杂、不可重复、易于出错。本书试图展示自动化构建、持续集成、持续交付和持续软件质量检测与改进等等现代先进软件生产流水线。

